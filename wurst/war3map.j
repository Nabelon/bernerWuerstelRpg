globals
    // User-defined
timer udg_Timer= null
timerdialog udg_TimeWindow= null
timerdialog array udg_DeathTimers
integer udg_Temp_Integer= 0
location array udg_Creep_Point
real udg_RespawnTimer= 0

    // Generated
rect gg_rct_Rez_0= null
rect gg_rct_SelectHeroArea= null
rect gg_rct_City0= null
rect gg_rct_Region_001= null
rect gg_rct_dungeon0Entrance= null
trigger gg_trg_WB1_Faehigkeit_Beschwoeren= null
trigger gg_trg_WB1_Faehigkeit_Damag_Buf= null
trigger gg_trg_MakeVisibleAreas= null
unit gg_unit_N00D_0112= null


//JASSHelper struct globals:

endglobals


//===========================================================================
// 
// Noch eine WARCRAFT-III-Karte
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Wed Feb 27 12:14:02 2019
//   Map Author: Unbekannt
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************


function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_Timer=CreateTimer()
    set udg_Temp_Integer=0
    set udg_RespawnTimer=0
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p= Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30698.4, 30454.8, 98.682)
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p= Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30538.5, 30447.6, 332.094)
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p= Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30385.4, 30447.6, 42.222)
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p= Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30226.5, 30454.8, 224.447)
endfunction

//===========================================================================
function CreateUnitsForPlayer4 takes nothing returns nothing
    local player p= Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30208.0, 30300.8, 155.659)
endfunction

//===========================================================================
function CreateUnitsForPlayer5 takes nothing returns nothing
    local player p= Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30191.0, 30172.7, 217.778)
endfunction

//===========================================================================
function CreateUnitsForPlayer7 takes nothing returns nothing
    local player p= Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30185.0, 30017.0, 251.847)
endfunction

//===========================================================================
function CreateUnitsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'e002', - 30191.3, 29886.1, 282.753)
endfunction

//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p= Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'n000', 2327.5, - 1225.5, 59.416)
    set u=CreateUnit(p, 'n000', 2387.6, - 1364.8, 262.416)
    set u=CreateUnit(p, 'n001', 2142.3, - 2206.6, 128.335)
    set u=CreateUnit(p, 'n000', 3025.3, - 728.2, 220.579)
    set u=CreateUnit(p, 'n001', 2697.6, - 68.1, 136.916)
    set u=CreateUnit(p, 'n001', 2085.3, - 98.4, 206.846)
    set u=CreateUnit(p, 'n001', 1671.4, 840.9, 136.487)
    set u=CreateUnit(p, 'n007', 4504.4, 641.4, 82.136)
    set u=CreateUnit(p, 'n001', 2227.9, - 178.0, 325.546)
    set u=CreateUnit(p, 'n001', 2353.1, - 2373.0, 97.144)
    set u=CreateUnit(p, 'n001', 2729.2, - 2450.5, 90.882)
    set u=CreateUnit(p, 'n001', 3042.7, 1377.8, 236.664)
    set u=CreateUnit(p, 'n001', 3141.5, 1188.4, 142.310)
    set u=CreateUnit(p, 'n001', 2973.9, 1255.5, 13.766)
    set u=CreateUnit(p, 'n001', 3060.2, 1144.4, 165.811)
    set u=CreateUnit(p, 'n000', 3140.0, 1325.8, 22.940)
    set u=CreateUnit(p, 'n000', 3138.4, 642.6, 160.219)
    set u=CreateUnit(p, 'n001', 1792.4, 743.2, 339.543)
    set u=CreateUnit(p, 'n001', 3022.1, - 2283.4, 177.072)
    set u=CreateUnit(p, 'n001', 1686.1, 731.2, 248.507)
    set u=CreateUnit(p, 'n001', 869.0, 146.1, 14.865)
    set u=CreateUnit(p, 'n001', 957.1, 106.4, 173.161)
    set u=CreateUnit(p, 'n001', 920.7, 1346.9, 35.597)
    set u=CreateUnit(p, 'n001', 964.6, 1241.1, 300.859)
    set u=CreateUnit(p, 'n001', 501.8, - 1044.6, 287.389)
    set u=CreateUnit(p, 'n001', 519.7, - 1484.7, 357.429)
    set u=CreateUnit(p, 'n000', 876.4, 67.3, 338.697)
    set u=CreateUnit(p, 'n000', 1732.7, 822.4, 327.479)
    set u=CreateUnit(p, 'n000', 943.2, - 18.9, 349.365)
    set u=CreateUnit(p, 'n000', 815.9, 1365.9, 252.353)
    set u=CreateUnit(p, 'n000', 817.1, 1238.2, 168.283)
    set u=CreateUnit(p, 'n000', 2159.8, - 2469.6, 170.337)
    set u=CreateUnit(p, 'n000', 2495.0, - 2644.8, 269.140)
    set u=CreateUnit(p, 'n000', 2779.4, - 2671.5, 301.507)
    set u=CreateUnit(p, 'n000', 2123.5, - 212.1, 90.959)
    set u=CreateUnit(p, 'n001', 3718.3, - 4288.8, 56.406)
    set u=CreateUnit(p, 'n001', 3079.9, - 869.3, 123.919)
    set u=CreateUnit(p, 'n000', 3166.6, - 755.5, 298.650)
    set u=CreateUnit(p, 'n00E', 3947.5, - 3175.7, 268.943)
    set u=CreateUnit(p, 'n009', 4795.7, 1509.2, 2.000)
    set u=CreateUnit(p, 'n001', 807.0, - 1273.0, 271.722)
    set u=CreateUnit(p, 'n001', 1047.2, - 1965.6, 89.761)
    set u=CreateUnit(p, 'n001', 1132.5, - 1948.5, 245.794)
    set u=CreateUnit(p, 'n001', 1268.9, - 521.6, 334.192)
    set u=CreateUnit(p, 'n001', 1376.0, - 575.0, 242.739)
    set u=CreateUnit(p, 'n007', 4031.2, - 148.4, 313.669)
    set u=CreateUnit(p, 'n007', 4650.3, - 404.7, 296.398)
    set u=CreateUnit(p, 'n00E', 5260.1, 147.9, 109.845)
    set u=CreateUnit(p, 'n007', 4992.3, - 1151.4, 217.239)
    set u=CreateUnit(p, 'n007', 4325.2, - 1515.5, 64.558)
    set u=CreateUnit(p, 'n007', 2949.3, - 889.0, 50.099)
    set u=CreateUnit(p, 'n000', 4361.5, 622.5, 302.781)
    set u=CreateUnit(p, 'n000', 4453.3, 498.8, 230.555)
    set u=CreateUnit(p, 'n009', 4803.2, 1398.7, 0.000)
    set u=CreateUnit(p, 'n000', 3929.2, - 83.3, 190.091)
    set u=CreateUnit(p, 'n007', 673.8, 1337.7, 184.971)
    set u=CreateUnit(p, 'n000', 2977.8, - 2526.1, 43.661)
    set u=CreateUnit(p, 'n000', 1413.7, - 416.6, 157.527)
    set u=CreateUnit(p, 'n001', 3893.8, - 187.8, 284.719)
    set u=CreateUnit(p, 'n00E', 4386.1, - 1671.9, 72.897)
    set u=CreateUnit(p, 'n009', 4806.9, - 4399.7, 285.214)
    set u=CreateUnit(p, 'n009', 3567.5, - 4298.6, 166.459)
    set u=CreateUnit(p, 'n009', 2353.5, - 3765.3, 59.778)
    set u=CreateUnit(p, 'n007', 3986.1, - 3358.5, 343.817)
    set u=CreateUnit(p, 'n009', 5069.2, - 2553.9, 309.242)
    set u=CreateUnit(p, 'n009', 5318.4, - 2377.9, 206.406)
    set u=CreateUnit(p, 'n000', 4696.5, - 4437.4, 106.768)
    set u=CreateUnit(p, 'n000', 4788.0, - 4502.1, 34.267)
    set u=CreateUnit(p, 'n000', 4977.1, - 4390.2, 144.376)
    set u=CreateUnit(p, 'n007', 4016.0, - 3291.2, 124.578)
    set u=CreateUnit(p, 'n00E', 5224.9, - 3962.5, 236.092)
    set u=CreateUnit(p, 'n001', 3995.4, - 298.2, 108.680)
    set u=CreateUnit(p, 'n009', 2340.7, - 4032.6, 307.901)
    set u=CreateUnit(p, 'n000', 4096.8, - 245.9, 141.102)
    set u=CreateUnit(p, 'n009', 3690.5, - 4380.7, 14.909)
    set u=CreateUnit(p, 'n009', 6926.4, - 718.6, 359.868)
    set u=CreateUnit(p, 'n00E', 5239.8, - 2608.8, 307.890)
    set u=CreateUnit(p, 'n00F', 9673.8, 308.2, 159.406)
    set gg_unit_N00D_0112=CreateUnit(p, 'N00D', 256.5, - 3470.4, 11.390)
    call SetHeroLevel(gg_unit_N00D_0112, 10, false)
    call SelectHeroSkill(gg_unit_N00D_0112, 'A00G')
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    call SelectHeroSkill(gg_unit_N00D_0112, 'A00F')
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    call SelectHeroSkill(gg_unit_N00D_0112, 'A00H')
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    call SelectHeroSkill(gg_unit_N00D_0112, 'A00I')
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    call SelectHeroSkill(gg_unit_N00D_0112, 'A00J')
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    call IssueImmediateOrder(gg_unit_N00D_0112, "")
    set u=CreateUnit(p, 'n00F', 9568.5, 182.4, 340.444)
    set u=CreateUnit(p, 'n00F', 9731.4, 163.0, 37.750)
    set u=CreateUnit(p, 'n009', 7005.2, - 881.0, 237.169)
    set u=CreateUnit(p, 'n00E', 6843.2, - 845.1, 347.069)
    set u=CreateUnit(p, 'n00F', 9368.5, - 1038.5, 331.863)
    set u=CreateUnit(p, 'n00F', 8826.5, 1122.4, 185.971)
    set u=CreateUnit(p, 'n00F', 8761.8, 1004.1, 133.038)
    set u=CreateUnit(p, 'n00F', 10895.8, 3648.2, 263.207)
    set u=CreateUnit(p, 'n00F', 9552.7, 2773.9, 177.083)
    set u=CreateUnit(p, 'n00F', 9696.1, 2696.1, 59.822)
    set u=CreateUnit(p, 'n00F', 11121.2, 6016.6, 235.609)
    set u=CreateUnit(p, 'n00F', 10967.1, 5035.2, 169.524)
    set u=CreateUnit(p, 'n00F', 11153.3, 4991.4, 187.290)
    set u=CreateUnit(p, 'n00F', 11069.7, 4905.6, 167.272)
    set u=CreateUnit(p, 'n00F', 10928.8, 4886.8, 81.093)
    set u=CreateUnit(p, 'n00F', 9526.0, 2595.4, 356.495)
    set u=CreateUnit(p, 'n00F', 10597.3, 1049.9, 231.852)
    set u=CreateUnit(p, 'n00F', 11153.3, 3675.6, 98.111)
    set u=CreateUnit(p, 'n000', 4559.3, - 454.2, 233.587)
    set u=CreateUnit(p, 'n000', 4752.7, - 494.1, 105.263)
    set u=CreateUnit(p, 'n007', 4817.8, - 358.8, 24.215)
    set u=CreateUnit(p, 'n007', 4667.7, 584.2, 99.308)
    set u=CreateUnit(p, 'n00E', 4649.2, 1461.4, 0.000)
    set u=CreateUnit(p, 'n000', 5048.1, - 969.5, 100.220)
    set u=CreateUnit(p, 'n000', 5124.3, - 1115.8, 210.966)
    set u=CreateUnit(p, 'n007', 4949.0, - 1058.0, 144.606)
    set u=CreateUnit(p, 'n00E', 2013.8, - 3873.8, 5.197)
    set u=CreateUnit(p, 'n007', 2448.1, - 3885.0, 250.606)
    set u=CreateUnit(p, 'n00E', 2127.1, - 3747.9, 357.627)
    set u=CreateUnit(p, 'n00E', 8614.3, - 1245.9, 16.634)
    set u=CreateUnit(p, 'n00E', 8542.4, - 1382.6, 89.278)
    set u=CreateUnit(p, 'n00E', 8199.4, - 156.3, 97.540)
    set u=CreateUnit(p, 'n009', 7938.5, - 175.4, 82.246)
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'n001', 1958.3, - 1004.7, 40.123)
    set u=CreateUnit(p, 'n008', - 66.4, - 1759.5, 193.168)
    set u=CreateUnit(p, 'n00E', 6833.8, 794.4, 77.192)
    set u=CreateUnit(p, 'n00E', 7335.0, 2684.4, 124.226)
    set u=CreateUnit(p, 'n00E', 8336.3, 3754.9, 287.697)
    set u=CreateUnit(p, 'n00E', 7400.2, 4546.4, 268.613)
    set u=CreateUnit(p, 'n00E', 8951.1, 4839.4, 170.832)
    set u=CreateUnit(p, 'n009', 7478.7, 2683.1, 349.870)
    set u=CreateUnit(p, 'n009', 7568.8, 1563.5, 2.692)
    set u=CreateUnit(p, 'n009', 6711.9, 903.3, 284.632)
    set u=CreateUnit(p, 'n009', 7460.1, 1524.9, 234.269)
    set u=CreateUnit(p, 'n009', 7159.1, 3553.4, 52.417)
    set u=CreateUnit(p, 'n009', 8033.0, 5154.5, 286.719)
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'n006', - 512.0, - 1856.0, 270.000)
    set u=CreateUnit(p, 'nfoh', - 1088.0, - 1216.0, 270.000)
    set u=CreateUnit(p, 'n00A', - 1344.0, - 576.0, 270.000)
    set u=CreateUnit(p, 'n00C', - 896.0, - 768.0, 270.000)
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=CreateUnit(p, 'npig', - 1305.4, - 1918.0, 209.669)
    set u=CreateUnit(p, 'nfro', 945.2, - 238.3, 264.768)
    set u=CreateUnit(p, 'N004', - 31214.5, 30941.2, 290.530)
    call SelectHeroSkill(u, 'A00F')
    call IssueImmediateOrder(u, "")
    set u=CreateUnit(p, 'N005', - 31190.6, 29470.8, 328.227)
    set u=CreateUnit(p, 'nfro', - 30250.6, 30266.6, 39.717)
    set u=CreateUnit(p, 'N002', - 29726.4, 29440.5, 64.755)
    set u=CreateUnit(p, 'N003', - 29744.1, 30913.2, 167.536)
    set u=CreateUnit(p, 'nech', - 581.0, - 722.7, 196.189)
    set u=CreateUnit(p, 'nech', - 1749.8, - 1274.5, 160.548)
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0()
    call CreateUnitsForPlayer1()
    call CreateUnitsForPlayer2()
    call CreateUnitsForPlayer3()
    call CreateUnitsForPlayer4()
    call CreateUnitsForPlayer5()
    call CreateUnitsForPlayer7()
    call CreateUnitsForPlayer8()
    call CreateUnitsForPlayer11()
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreatePlayerBuildings()
    call CreateNeutralHostile()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_Rez_0=Rect(- 1248.0, - 1664.0, - 928.0, - 1440.0)
    set gg_rct_SelectHeroArea=Rect(- 31456.0, 29312.0, - 29440.0, 31200.0)
    set gg_rct_City0=Rect(- 1952.0, - 2048.0, - 128.0, - 512.0)
    set gg_rct_Region_001=Rect(16416.0, 3808.0, 16544.0, 3936.0)
    set gg_rct_dungeon0Entrance=Rect(3712.0, 896.0, 4384.0, 1568.0)
endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: WB1 Faehigkeit Beschwoeren
//
// WB1 setzt seine Beschwörungen direkt ein, wenn er angegriffen wird.
//===========================================================================
function Trig_WB1_Faehigkeit_Beschwoeren_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'N00D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WB1_Faehigkeit_Beschwoeren_Actions takes nothing returns nothing
    call IssueImmediateOrderBJ(gg_unit_N00D_0112, "waterelemental")
endfunction

//===========================================================================
function InitTrig_WB1_Faehigkeit_Beschwoeren takes nothing returns nothing
    set gg_trg_WB1_Faehigkeit_Beschwoeren=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_WB1_Faehigkeit_Beschwoeren, gg_unit_N00D_0112, EVENT_UNIT_TARGET_IN_RANGE)
    call TriggerAddCondition(gg_trg_WB1_Faehigkeit_Beschwoeren, Condition(function Trig_WB1_Faehigkeit_Beschwoeren_Conditions))
    call TriggerAddAction(gg_trg_WB1_Faehigkeit_Beschwoeren, function Trig_WB1_Faehigkeit_Beschwoeren_Actions)
endfunction

//===========================================================================
// Trigger: WB1 Faehigkeit Damag Buf
//
// WB1 setzt sein Kampfschrei direkt ein, wenn er angegriffen wird.
//===========================================================================
function Trig_WB1_Faehigkeit_Damag_Buf_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'N00D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WB1_Faehigkeit_Damag_Buf_Actions takes nothing returns nothing
    call IssueImmediateOrderBJ(gg_unit_N00D_0112, "battleroar")
endfunction

//===========================================================================
function InitTrig_WB1_Faehigkeit_Damag_Buf takes nothing returns nothing
    set gg_trg_WB1_Faehigkeit_Damag_Buf=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_WB1_Faehigkeit_Damag_Buf, gg_unit_N00D_0112, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(gg_trg_WB1_Faehigkeit_Damag_Buf, Condition(function Trig_WB1_Faehigkeit_Damag_Buf_Conditions))
    call TriggerAddAction(gg_trg_WB1_Faehigkeit_Damag_Buf, function Trig_WB1_Faehigkeit_Damag_Buf_Actions)
endfunction

//===========================================================================
// Trigger: MakeVisibleAreas
//===========================================================================
function Trig_MakeVisibleAreas_Func001002 takes nothing returns nothing
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_SelectHeroArea)
endfunction

function Trig_MakeVisibleAreas_Func002002 takes nothing returns nothing
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_City0)
endfunction

function Trig_MakeVisibleAreas_Actions takes nothing returns nothing
    call ForForce(GetPlayersAll(), function Trig_MakeVisibleAreas_Func001002)
    call ForForce(GetPlayersAll(), function Trig_MakeVisibleAreas_Func002002)
endfunction

//===========================================================================
function InitTrig_MakeVisibleAreas takes nothing returns nothing
    set gg_trg_MakeVisibleAreas=CreateTrigger()
    call TriggerAddAction(gg_trg_MakeVisibleAreas, function Trig_MakeVisibleAreas_Actions)
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_WB1_Faehigkeit_Beschwoeren()
    call InitTrig_WB1_Faehigkeit_Damag_Buf()
    call InitTrig_MakeVisibleAreas()
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_MakeVisibleAreas)
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)

    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)

    // Player 2
    call SetPlayerStartLocation(Player(2), 2)
    call SetPlayerColor(Player(2), ConvertPlayerColor(2))
    call SetPlayerRacePreference(Player(2), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(2), false)
    call SetPlayerController(Player(2), MAP_CONTROL_USER)

    // Player 3
    call SetPlayerStartLocation(Player(3), 3)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_USER)

    // Player 4
    call SetPlayerStartLocation(Player(4), 4)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_USER)

    // Player 5
    call SetPlayerStartLocation(Player(5), 5)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_USER)

    // Player 6
    call SetPlayerStartLocation(Player(6), 6)
    call SetPlayerColor(Player(6), ConvertPlayerColor(6))
    call SetPlayerRacePreference(Player(6), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(6), false)
    call SetPlayerController(Player(6), MAP_CONTROL_USER)

    // Player 7
    call SetPlayerStartLocation(Player(7), 7)
    call SetPlayerColor(Player(7), ConvertPlayerColor(7))
    call SetPlayerRacePreference(Player(7), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(7), false)
    call SetPlayerController(Player(7), MAP_CONTROL_USER)

    // Player 11
    call SetPlayerStartLocation(Player(11), 8)
    call ForcePlayerStartLocation(Player(11), 8)
    call SetPlayerColor(Player(11), ConvertPlayerColor(11))
    call SetPlayerRacePreference(Player(11), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(11), false)
    call SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_002
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerTeam(Player(2), 0)
    call SetPlayerTeam(Player(3), 0)
    call SetPlayerTeam(Player(4), 0)
    call SetPlayerTeam(Player(5), 0)
    call SetPlayerTeam(Player(6), 0)
    call SetPlayerTeam(Player(7), 0)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(6), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(6), true)

    // Force: TRIGSTR_120
    call SetPlayerTeam(Player(11), 1)

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount(0, 7)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(1, 7)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(2, 7)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(3, 7)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(4, 7)
    call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(5, 7)
    call SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(6, 7)
    call SetStartLocPrio(6, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 6, 7, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(7, 7)
    call SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 6, 6, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(8, 8)
    call SetStartLocPrio(8, 0, 0, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 1, 1, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 2, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 3, 3, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 4, 4, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 5, 5, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 6, 6, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 7, 7, MAP_LOC_PRIO_LOW)
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 31488.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 28672.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 28416.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 31232.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 31488.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 31232.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 28416.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 28672.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("LordaeronSummerDay")
    call SetAmbientNightSound("LordaeronSummerNight")
    call SetMapMusic("Music", true, 0)
    call CreateRegions()
    call CreateAllUnits()
    call InitBlizzard()


    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_011")
    call SetMapDescription("TRIGSTR_013")
    call SetPlayers(9)
    call SetTeams(9)
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)

    call DefineStartLocation(0, - 30464.0, 30144.0)
    call DefineStartLocation(1, - 30464.0, 30144.0)
    call DefineStartLocation(2, - 30464.0, 30144.0)
    call DefineStartLocation(3, - 30464.0, 30144.0)
    call DefineStartLocation(4, - 30464.0, 30144.0)
    call DefineStartLocation(5, - 30464.0, 30144.0)
    call DefineStartLocation(6, - 30464.0, 30144.0)
    call DefineStartLocation(7, - 30464.0, 30144.0)
    call DefineStartLocation(8, - 30464.0, 30144.0)

    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction




//Struct method generated initializers/callers:

